(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5485],{9900:function(e,a,t){Promise.resolve().then(t.bind(t,3497))},3497:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return k}});var s=t(7437),r=t(2265),l=t(2230),n=t(3423),d=t(3842),c=t(6533),i=t(4033),o=t(8528),h=t(6691),u=t.n(h),x=t(4606),p=t(8889),m=t.n(p),j=e=>{let{data:a}=e,t=r.useRef(null);return console.log({data:a}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{ref:t,className:"print-agreement",children:[(0,s.jsxs)("div",{className:"border-b justify-center gap-2 hidden",children:[(0,s.jsx)("div",{children:(0,s.jsx)(u(),{src:"/images/kab_jayawijaya.png",alt:"logo",width:80,height:80})}),(0,s.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,s.jsx)("h3",{className:"uppercase font-bold text-lg text-center",children:"pemerintah daerah kabupaten jayawijaya"}),(0,s.jsx)("h3",{className:"uppercase text-lg font-bold text-center",children:"dinas kesehatan"}),(0,s.jsx)("h3",{className:"uppercase text-lg font-bold text-center",children:"pusat kesehatan hom-hom"}),(0,s.jsx)("p",{className:"text-sm italic",children:"Jl."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(u(),{src:"/images/logo_kesehatan.png",alt:"logo",width:80,height:80})})]}),(0,s.jsxs)("div",{className:"flex-col items-center w-full justify-center mb-8 hidden",children:[(0,s.jsx)("h2",{className:"uppercase text-2xl font-bold tracking-[.20em]",children:"resep obat"}),(0,s.jsx)("h3",{className:"italic text-xl",children:a.dokter.nm_dokter}),(0,s.jsxs)("p",{className:"text-sm self-end",children:["Wamena, ",a.tgl_resep]})]}),(0,s.jsx)("div",{className:"",children:(0,s.jsxs)("table",{className:"w-full table-auto border-collapse border",children:[(0,s.jsx)("thead",{className:"border",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"border",children:"No"}),(0,s.jsx)("th",{className:"border",children:"Nama Obat"}),(0,s.jsx)("th",{className:"border",children:"Jumlah"})]})}),(0,s.jsx)("tbody",{children:a.obat_keluar.map((e,a)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"border text-center",children:a+1}),(0,s.jsx)("td",{className:"border px-4",children:e.obat_masuk.obat.nm_obat}),(0,s.jsx)("td",{className:"border text-center",children:e.jumlah})]},a))})]})}),(0,s.jsx)("div",{className:"my-8",children:(0,s.jsx)("table",{children:(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"",children:"Nama Pasien"}),(0,s.jsxs)("td",{className:" px-4",children:[": ",a.pasien.nm_pasien]})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"",children:"Jenis Kelamin"}),(0,s.jsxs)("td",{className:" px-4",children:[": ",a.pasien.jenkel]})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"",children:"Diagnosa"}),(0,s.jsxs)("td",{className:" px-4",children:[": ",a.diagnosa]})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"",children:"Alamat"}),(0,s.jsxs)("td",{className:" px-4",children:[": ",a.pasien.alamat]})]})]})})})]}),(0,s.jsx)(m(),{trigger:()=>(0,s.jsx)(o.Z,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(x.cK7,{}),(0,s.jsx)("span",{children:"Cetak"})]})}),content:()=>t.current})]})},g=t(8963),b=e=>{let{setDelete:a,setEdit:t}=e,{setResep:o,dtResep:h}=(0,c.Z)(),[u,p]=(0,r.useState)(1),[m,b]=(0,r.useState)(10),[f,N]=(0,r.useState)(!0),[v,w]=(0,r.useState)(!1),[k,_]=(0,r.useState)(),y=(0,i.useSearchParams)(),S=y.get("sortby")||"",R=y.get("order")||"",Z=y.get("search")||"",D=async()=>{await o({page:u,limit:m,search:Z,sortby:S,order:R}),N(!1)};(0,r.useEffect)(()=>(D(),()=>{}),[u,m,y]),(0,r.useEffect)(()=>{p(1),D()},[Z,y]);let P=e=>{w(!0),_(e)};return(0,s.jsxs)("div",{className:"flex-1 flex-col max-w-full h-full grow overflow-auto",children:[(0,s.jsx)(g.Z,{title:"Resep ".concat(null==k?void 0:k.pasien.nm_pasien),showModal:v,setShowModal:w,children:(0,s.jsx)(j,{data:k})}),f?(0,s.jsx)(l.Z,{}):(0,s.jsxs)("div",{className:"h-1/2",children:[(0,s.jsx)("div",{className:"",children:(0,s.jsx)(d.Z,{headTable:["No","Kode","Tgl. Resep","Dokter","Pasien","Diagnosa","Petugas","Aksi"],tableBodies:["kode_resep","tgl_resep","dokter.nm_dokter","pasien.nm_pasien","diagnosa","petugas.nm_petugas"],dataTable:h.data,page:u,limit:m,setEdit:t,setDelete:a,ubah:!0,hapus:!0,costume:e=>(0,s.jsx)(x.FPm,{className:"cursor-pointer select-none",onClick:()=>P(e)})})}),(null==h?void 0:h.last_page)>1&&(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(n.Z,{currentPage:null==h?void 0:h.current_page,totalPages:null==h?void 0:h.last_page,setPage:p})})]})]})},f=t(3015),N=t(5925),v=t(311),w=t(4123),k=()=>{let{removeData:e}=(0,c.Z)(),[a,t]=(0,r.useState)(!1),[l,n]=(0,r.useState)(),d=(0,i.useRouter)(),h=(0,i.useSearchParams)(),u=async a=>{let{id:s,isDelete:r}=a;if(n(s),r){let{data:a}=await e(l);(0,v.Z)({event:a}),t(!1)}else t(!0)};return(0,s.jsxs)("div",{className:"flex flex-col h-full w-full",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(N.x7,{}),(0,s.jsx)(f.Z,{showDel:a,setShowDel:t,setDelete:u}),(0,s.jsxs)("div",{className:"mb-4 flex justify-between",children:[(0,s.jsx)("p",{children:"Silahkan Mengolah data Resep"}),(0,s.jsx)("div",{children:(0,s.jsx)(o.Z,{onClick:()=>{d.push("/petugas/resep/form")},children:"Tambah Data"})})]}),(0,s.jsx)(w.Z,{placeholder:"Cari Resep",onChange:e=>{let a=h.get("sortby")||"",t=h.get("order")||"";d.push("?search=".concat(e,"&sortby=").concat(a,"&order=").concat(t))}})]}),(0,s.jsx)(b,{setDelete:u,setEdit:e=>{d.push("/petugas/resep/form?id=".concat(e.id))}})]})}},6533:function(e,a,t){"use strict";var s=t(4660),r=t(4810),l=t(8875),n=t(5967);let d=(0,s.Ue)((0,r.mW)((e,a)=>({dtResep:[],setResep:async a=>{let{page:t=1,limit:s=10,search:r,sortby:d,order:c}=a;try{let a=await n.Z.getState().setToken(),i=await (0,l.Sj)({method:"get",url:"/resep",headers:{Authorization:"Bearer ".concat(a)},params:{limit:s,page:t,search:r,sortby:d,order:c}});return e(e=>({...e,dtResep:i.data.data})),{status:"berhasil",data:i.data}}catch(e){var i;return{status:"error",error:null===(i=e.response)||void 0===i?void 0:i.data}}},setShowResep:async a=>{try{let t=await n.Z.getState().setToken(),s=await (0,l.Sj)({method:"get",url:"/resep/".concat(a),headers:{Authorization:"Bearer ".concat(t)}});return e(e=>({...e,dtResep:s.data.data})),{status:"berhasil",data:s.data}}catch(e){var t;return{status:"error",error:null===(t=e.response)||void 0===t?void 0:t.data}}},addData:async e=>{try{let t=await n.Z.getState().setToken(),s=await (0,l.Sj)({method:"post",url:"/resep",headers:{Authorization:"Bearer ".concat(t)},data:e});return a().setResep({}),{status:"berhasil tambah",data:s.data}}catch(e){return{status:"error",data:e.response.data}}},removeData:async a=>{try{let t=await n.Z.getState().setToken(),s=await (0,l.Sj)({method:"delete",url:"/resep/".concat(a),headers:{Authorization:"Bearer ".concat(t)}});return e(e=>({dtResep:{last_page:e.dtResep.last_page,current_page:e.dtResep.current_page,data:e.dtResep.data.filter(e=>e.id!==a)}})),{status:"berhasil hapus",data:s.data}}catch(e){return{status:"error",data:e.response.data}}},updateData:async(e,t)=>{try{let s=await n.Z.getState().setToken(),r=await (0,l.Sj)({method:"PUT",url:"/resep/".concat(e),headers:{Authorization:"Bearer ".concat(s)},data:t});return a().setResep({}),{status:"berhasil update",data:r.data}}catch(e){return{status:"error",data:e.response.data}}}})));a.Z=d}},function(e){e.O(0,[8447,6990,2750,5869,8889,2710,2971,2472,1744],function(){return e(e.s=9900)}),_N_E=e.O()}]);